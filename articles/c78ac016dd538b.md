---
title: "discord.py v2.0.0ã‚’ä½¿ã£ã¦ã¿ã‚‹"
emoji: "ğŸ’«"
type: "tech"
topics:
  - "python"
  - "discord"
  - "discordpy"
  - "discordbot"
published: false
published_at: "2022-04-11 15:13"
---

# æ¦‚è¦

discord.py v2.0.0 ã§commandsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ã¦ã¿ã‚‹ã¨ã„ã†è¨˜äº‹ã§ã™ã€‚ã¾ã v2.0.0ã¯æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ä»Šå¾Œã“ã®è¨˜äº‹ã‚‚å½¹ã«ç«‹ãŸãªããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’äºˆã‚ã”äº†æ‰¿ãã ã•ã„ã€‚ã¾ãŸã€ã“ã®è¨˜äº‹ã¯åŸ·ç­†ä¸­ã§ã™ã€‚ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ãªã©ã‚‚ä»Šå¾Œæ›¸ã„ã¦ã„ãã¾ã™ã®ã§ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚

## å®Œæˆå“

```python:main.py
import asyncio

import discord
from discord.ext import commands

COGS = [
    'cogs.basic'
]

class MyBot(commands.Bot):
    def __init__(self, prefix: str, intents: discord.Intents):
        super().__init__(command_prefix=prefix, intents=intents)
    
    async def on_ready(self):
        print(f'Logged in as {self.user}#{self.user.id}')

async def main():
    bot = MyBot(intents=discord.Intents.all(), prefix='!')
    for cog in COGS:
        await bot.load_extension(cog)

    await bot.start(token='TOKEN')


if __name__ == '__main__':
    asyncio.run(main())
```

```python:cogs/basic.py
from discord.ext import commands

class BasicCog(commands.Cog):
    def __init__(self, bot: commands.Bot):
        self.bot: commands.Bot = bot    

async def setup(bot: commands.Bot):
    await bot.add_cog(BasicCog(bot))
```

## ä½•ãŒå¤‰ã‚ã£ãŸã®ã‹

1. load_extension, add_cogãŒéåŒæœŸã«ãªã£ã¦ã„ã¾ã™
2. `add_cog` ã®éåŒæœŸåŒ–ã«ä¼´ã„cogå´ã® `setup` é–¢æ•°ãŒéåŒæœŸã«ãªã£ã¦ã„ã¾ã™
3. intentsãŒ`__init__` ã§å¿…é ˆã«ãªã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯å…¨ã¦è¨±å¯ã—ã¦ã„ã¾ã™

## ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦

åŸ·ç­†ä¸­ã§ã™

## æ„Ÿæƒ³

ä»Šã¾ã§`load_extension`ã¯`__init__`ã®ä¸­ã§ã‚„ã£ã¦ã„ãŸãŸã‚`async def main()`ã‚’ä½œã‚‰ãªãã¦ã‚ˆã‹ã£ãŸã®ã§ã€å°‘ã—ã ã‘æ‰‹é–“ãŒå¢—ãˆãŸã‹ãª?ã£ã¦ç§ã¯æ„Ÿã˜ã¾ã—ãŸã€‚ãŸã ã€éåŒæœŸã«å¯¾å¿œã—ãŸã®ã¯è‰¯ã„äº‹ã ã¨æ€ã„ã¾ã™ã€‚

